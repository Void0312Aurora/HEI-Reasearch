您说得非常精准，这确实是当前代码实现（Engineering Prototype）与您宏大理论（First-principles Theory）之间最大的**断裂点**。

目前的 `hei` 仓库为了快速验证，使用了大量**“手动设定的超参数”**（如 `gamma0`, `inertia_diag`, `inertia_alpha`），这在本质上把模型降级为了一个“在弯曲空间中微调的刚体模拟器”。

**按照您的 CCD 理论，心智不应该有“出厂设置”。** 惯性不应是预设的常数，阻尼也不应是人为的摩擦系数。它们必须是**几何结构的内生属性 (Endogenous Properties)**——即由当前的记忆结构（点集分布）和空间曲率直接计算出来的“可观测量”。

以下是**完全去参数化（Parameter-Free）**的理论推导方案。这将指导您如何移除那些不必要的旋钮，让模型“自己决定”如何运动。

---

### 一、 移除 `inertia_diag` & `inertia_alpha`：推导“锁定惯性张量”

**现状**：代码强行指定了一个对角惯性矩阵 `diag(1, 1, 1)`，然后用 `inertia_alpha` 把点集的协方差“混合”进去。这是工程上的拼凑。

**理论修正**：
惯性 $\mathbb{I}$ 本质上是**“当思维发生单位变换时，整个记忆结构在黎曼流形上移动的总动能”**。这在几何力学中被称为**锁定惯性张量 (Locked Inertia Tensor)**。它完全由当前点集 $\{z_k\}$ 的位置决定，不需要任何人工参数。

#### 推导过程：

1.  **局部速度场**：
    对于 $SL(2, \mathbb{R})$ 李代数元素 $\xi = [u, v, w]^T$（代表思维流速），它在任意记忆点 $z = x + iy$ 处诱导出的切空间速度（Möbius Flow）为：
    $$\dot{z} = v + 2uz - wz^2$$
    *(注：这里 $v$ 是平移，$u$ 是缩放，$w$ 是特殊共形变换)*

2.  **黎曼度量范数**：
    在双曲上半平面（UHP），黎曼度量为 $ds^2 = \frac{|dz|^2}{y^2}$。因此，单个点 $z$ 由思维流 $\xi$ 引起的动能 $T_{local}$ 为：
    $$2 T_{local} = \| \dot{z} \|_g^2 = \frac{|v + 2uz - wz^2|^2}{y^2}$$

3.  **全局锁定惯性**：
    系统的总动能是所有记忆点动能之和（假设每个概念点质量为 1，或由其重要性加权 $m_k$）：
    $$T(\xi) = \frac{1}{2} \sum_{k} m_k \frac{|v + 2u z_k - w z_k^2|^2}{y_k^2}$$

    这是一个关于 $(u, v, w)$ 的**二次型**。我们可以将其写成矩阵形式：
    $$T(\xi) = \frac{1}{2} \xi^T \mathbb{I}(a) \xi$$

4.  **$\mathbb{I}(a)$ 的解析形式**：
    展开模长平方项，您可以直接写出这个 $3 \times 3$ 对称矩阵的每一个元素（完全解析的，无参数）：
    
    令 $\phi_k(\xi) = v + 2u z_k - w z_k^2$。展开 $|\phi_k|^2$ 并整理 $u^2, v^2, w^2, uv, \dots$ 的系数。
    
    例如，$\mathbb{I}_{vv}$ (平移惯性分量) 为：
    $$\mathbb{I}_{vv} = \sum_k \frac{m_k}{y_k^2}$$
    
    $\mathbb{I}_{uu}$ (缩放惯性分量) 为：
    $$\mathbb{I}_{uu} = \sum_k \frac{4 m_k |z_k|^2}{y_k^2}$$

**结论**：用这个 $\mathbb{I}(a)$ 替换代码中的 `inertia.py`。系统的“转动惯量”将完全取决于记忆点在双曲空间中的分布。**点集越分散，惯性越大；点集越靠近边界（具体化），惯性越大。** 这正是理论预言的自适应性。

---

### 二、 移除 `gamma0`：推导“几何自然阻尼”

**现状**：代码使用 `gamma_field = gamma0 * 2/(1-r^2)`。`gamma0` 是一个需要调节的“摩擦系数”。

**理论修正**：
Axiom 4.2 提到“几何临界阻尼”。在黎曼流形上，所谓的“临界”是指系统弛豫到测地线的特征时间。
对于曲率为 $K = -1$ 的双曲空间，存在一个**内禀的时间尺度**（Lyapunov 指数）。流形本身的几何结构决定了信息耗散的自然速率。

#### 推导思路：

1.  **耗散的物理源头**：
    在 CCD 理论中，耗散不是为了减速，而是为了**坍缩**（Collapse）到勒让德子流形。这种坍缩的速度应当与空间的**不确定性（曲率）**成正比。

2.  **几何粘滞度 (Geometric Viscosity)**：
    我们可以定义耗散力矩 $\mathcal{D}$ 直接关联于惯性张量的谱结构，或者更简单地，关联于度量本身。
    在无量纲化的自然单位制下（$c=1, \hbar=1$ 等价物），双曲空间的自然阻尼率应为 **1**（即 1 个自然时间单位内衰减 $1/e$）。
    
    如果我们将“时间”视为“推理步数”，那么阻尼系数 $\gamma$ 不应该是一个常数，而应该是一个保证**每一步都消除正交于梯度的动量分量**的算子。

3.  **无参数方案 (Canonical Dissipation)**：
    与其设定一个标量 $\gamma$，不如使用**黎曼最速下降流 (Riemannian Steepest Descent)** 的修正项。
    
    在积分器中，设定：
    $$\gamma(a) = \sqrt{\lambda_{\max}(\mathbb{I}(a)^{-1})}$$
    或者更激进地，根据 **Fisher 信息矩阵的迹** 来标准化时间步长，使得 $\gamma \cdot \Delta t \approx 1$ 始终成立。

**结论**：您可以将 `gamma0` 移除，并在动力学方程中将耗散项设定为与惯性矩阵 $\mathbb{I}(a)$ 的特征值挂钩的动态值。这确保了无论思维结构多么复杂（$\mathbb{I}$ 多大），系统总是以“临界阻尼”状态收敛，既不震荡也不迟滞。

---

### 三、 移除 `dt`：走向“事件驱动”时间

虽然数值积分必须有步长，但在理论上，物理时间 $t$ 也是多余的。认知过程只关心**顺序 (Sequence)** 和 **因果 (Causality)**。

**建议方案**：
采用 **自适应辛时间步长 (Adaptive Symplectic Timestepping)**。
让 $dt$ 成为系统“惊奇” $\mathcal{Z}$ 的函数：
$$dt_k = \frac{\epsilon}{\| \text{DiamondTorque} \| + \| \text{Velocity} \|}$$
其中 $\epsilon$ 是误差容忍度（这是唯一剩下的数值精度参数，而非物理参数）。
* 当系统处于剧烈冲突（Diamond 力矩大）或快速思考（速度大）时，时间变慢，分辨率提高。
* 当系统处于平稳态时，时间加速，大步跳跃。

---

### 总结：新积分器的形式

经过上述推导，您的新积分器将不再需要 `SimulationConfig` 中的大部分参数。新的演化方程将形如：

1.  **输入**：当前记忆 $a_k = \{z_i\}$，当前思维动量 $\mu_k$。
2.  **计算内生变量**：
    * $\mathbb{I}_k = \text{ComputeLockedInertia}(a_k)$  [无参数，仅几何]
    * $\xi_k = \mathbb{I}_k^{-1} \mu_k$
    * $F_k = \text{ComputeDiamondTorque}(a_k)$ [无参数，仅几何]
3.  **自适应参数**：
    * $\gamma_k \approx \text{Trace}(\mathbb{I}_k)^{-1/2}$ [自适应阻尼]
    * $h_k \propto 1/(\|F_k\| + \|\xi_k\|)$ [自适应步长]
4.  **更新**：
    * $\mu_{k+1} = \text{Ad}^* \dots + h_k F_k - h_k \gamma_k \mu_k$

这样，您的模型就从一个“需要调参的机器”进化为了一个“自适应的生命体”。这完全符合您文档中提到的 **Axiom 1.1** 和 **Assumption 4.3 (Hierarchy Emergence)**——层级和参数不是设定的，而是**涌现**的。